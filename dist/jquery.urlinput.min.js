/*! urlinput - v1.0.1 - 2015-07-24
* Copyright (c) 2015 Daniel Catarino Biscalchin; Licensed MIT */
!function(a){function b(b){var c=a(b),d=c.val(),e=d.length<4?d.length:4,f=d.slice(0,e);(f!="http".slice(0,e)||0==d.length)&&(d="http://"+d,c.val(d))}function c(c,d){var e=a(c);b(e);var f=e.next(".urlinput-link-wrapper").find("a").attr("href",e.val());if(d.showFavicon){var g=f.prop("hostname"),h="//www.google.com/s2/favicons?domain="+(g?g:".");e.prev(".urlinput-icon-wrapper").find("img").attr("src",h)}}a.fn.urlinput=function(d){var e="default";d&&d.theme&&(e=d.theme);var f=a.extend({},a.fn.urlinput.themes["default"],a.fn.urlinput.themes[e],d),g=a(f.widgetWrapper);if(g.addClass("urlinput-widget-wrapper"),this.wrap(g),this.addClass("urlinput-field "+f.fieldClass),f.showFavicon){var h=a(f.faviconWrapper);h.addClass("urlinput-icon-wrapper"),h.html('<img src="//www.google.com/s2/favicons?domain=." class="'+f.faviconClass+'"/>'),this.before(h)}var i=a(f.linkWrapper);return i.addClass("urlinput-link-wrapper"),i.html('<a href="'+this.val()+'" target="_blank" class="'+f.linkClass+'">'+f.linkText+"</a>"),this.after(i),f.showLink||i.hide(),this.each(function(d,e){var g=a(this);b(g),g.focus(function(b){var d=a(this),e=setInterval(function(){c(d,f)},2e3);d.data("updateInterval",e)}),g.blur(function(a){c(g,f);var b=g.data("updateInterval");b&&clearInterval(b),g.data("updateInterval",!1)}),g.closest("form").submit(function(a){"http://"==g.val()&&g.val("")})}),this},a.fn.urlinput.themes={"default":{fieldClass:"",showLink:!0,linkText:"Try it!",linkClass:"",linkWrapper:"<span></span>",showFavicon:!0,faviconClass:"",faviconWrapper:"<span></span>",widgetWrapper:"<div></div>"},bootstrap:{fieldClass:"form-control",linkText:'<span class="glyphicon glyphicon-new-window"></span>',linkClass:"btn btn-default",linkWrapper:'<span class="input-group-btn"></span>',faviconWrapper:'<span class="input-group-addon"></span>',widgetWrapper:'<div class="input-group"></div>'}}}(jQuery);