/*! urlinput - v1.0.1 - 2015-07-24
* Copyright (c) 2015 Daniel Catarino Biscalchin; Licensed MIT */
!function(a){function b(b){var c=a(b),d=c.val(),e=d.length<4?d.length:4,f=d.slice(0,e);(f!="http".slice(0,e)||0==d.length)&&(d="http://"+d,c.val(d))}function c(c,d){var e=a(c);b(e);var f=e.next(".urlinput-link-wrapper").find("a").attr("href",e.val());if(d.showFavicon){var g=f.prop("hostname"),h="//www.google.com/s2/favicons?domain="+(g?g:".");e.prev(".urlinput-icon-wrapper").find("img").attr("src",h)}}a.fn.urlinput=function(b){var d="default";b&&b.theme&&(d=b.theme);var e=a.extend({},a.fn.urlinput.themes["default"],a.fn.urlinput.themes[d],b),f=a(e.widgetWrapper);if(f.addClass("urlinput-widget-wrapper"),this.wrap(f),this.addClass("urlinput-field "+e.fieldClass),e.showFavicon){var g=a(e.faviconWrapper);g.addClass("urlinput-icon-wrapper"),g.html('<img src="//www.google.com/s2/favicons?domain=." class="'+e.faviconClass+'"/>'),this.before(g)}var h=a(e.linkWrapper);return h.addClass("urlinput-link-wrapper"),h.html('<a href="'+this.val()+'" target="_blank" class="'+e.linkClass+'">'+e.linkText+"</a>"),this.after(h),e.showLink||h.hide(),this.each(function(b,d){var f=a(this);c(f,e),f.focus(function(b){var d=a(this),f=setInterval(function(){c(d,e)},2e3);d.data("updateInterval",f)}),f.blur(function(a){c(f,e);var b=f.data("updateInterval");b&&clearInterval(b),f.data("updateInterval",!1)}),f.closest("form").submit(function(a){"http://"==f.val()&&f.val("")})}),this},a.fn.urlinput.themes={"default":{fieldClass:"",showLink:!0,linkText:"Try it!",linkClass:"",linkWrapper:"<span></span>",showFavicon:!0,faviconClass:"",faviconWrapper:"<span></span>",widgetWrapper:"<div></div>"},bootstrap:{fieldClass:"form-control",linkText:'<span class="glyphicon glyphicon-new-window"></span>',linkClass:"btn btn-default",linkWrapper:'<span class="input-group-btn"></span>',faviconWrapper:'<span class="input-group-addon"></span>',widgetWrapper:'<div class="input-group"></div>'}}}(jQuery);